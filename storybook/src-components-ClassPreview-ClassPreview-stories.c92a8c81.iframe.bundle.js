"use strict";(self.webpackChunkproject_connection=self.webpackChunkproject_connection||[]).push([[2345],{"./src/components/ClassPreview/ClassPreview.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_ClassPreview__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ClassPreview/ClassPreview.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const __WEBPACK_DEFAULT_EXPORT__={title:"Components/ClassPreview",component:_ClassPreview__WEBPACK_IMPORTED_MODULE_1__.Z,tags:["autodocs"],parameters:{nextjs:{appDirectory:!0},docs:{description:{component:"클래스에 대한 정보 미리보기 컴포넌트"}}},argTypes:{id:{description:"클래스 ID",control:"number",table:{type:{summary:"number"}}},status:{description:"클래스 상태",options:["모집중","마감"],control:{type:"radio"},table:{type:{summary:"모집중 | 마감"}}},date:{description:"클래스 전체 진행 기간",control:"text",table:{type:{summary:"string"}}},title:{description:"클래스 제목",control:"text",table:{type:{summary:"string"}}},imgURL:{description:"클래스 이미지",control:"object",table:{type:{summary:"string[]"}}},location:{description:"클래스 장소",control:"object",table:{type:{summary:"string[]"}}},genre:{description:"클래스 장르",control:"object",table:{type:{summary:"string[]"}}},type:{description:"클래스 타입",control:"text",table:{type:{summary:"string"}}},review:{description:"클래스 리뷰",control:"object",table:{type:{summary:"{ average: number; count: number }"}}},price:{description:"클래스 가격",control:"number",table:{type:{summary:"number"}}},profile:{description:"강사 프로필",control:"object",table:{type:{summary:"{ src: string | null; nickname: string; id: number }"}}},isLiked:{description:"클래스 좋아요 표시 여부",control:{type:"boolean"},table:{type:{summary:"boolean"}}},smallView:{description:"뷰포트에 따른 반응형 디자인",control:{type:"boolean"},table:{type:{summary:"boolean"}}}},args:{status:"모집중",date:"08/04~09/25",title:"가비쌤과 함께하는 왁킹 클래스",location:["서울 마포구"],genre:["락킹","K-pop"],isLiked:!1,type:"개인레슨",review:{average:4.5,count:14},price:8e4,profile:{src:null,nickname:"nickname",id:1},imgURL:["https://img.freepik.com/free-photo/pretty-woman-practising-hip-hop-dance_107420-85008.jpg?size=626&ext=jpg","https://img.freepik.com/free-photo/girl-dancing-hip-hop-in-stylish-clothes-on-gradient-background-at-dance-hall-in-neon-light_155003-9249.jpg?size=626&ext=jpg","https://img.freepik.com/free-photo/dance-time-stylish-men-and-woman-dancing-hip-hop-in-bright-clothes-on-green-background-at-dance-hall-in-neon-light_155003-16406.jpg?size=626&ext=jpg","https://img.freepik.com/free-photo/two-beautiful-slender-girls-doing-dancing-and-gymnastics-in-the-dance-hall_1157-13817.jpg?size=626&ext=jpg","https://img.freepik.com/free-photo/boy-dancing-hip-hop-in-stylish-clothes-on-gradient-background-at-dance-hall-in-neon-light_155003-9262.jpg?size=626&ext=jpg"]}};var Default={render:function render(args){return __jsx("div",{className:"max-w-[40rem]"},__jsx(_ClassPreview__WEBPACK_IMPORTED_MODULE_1__.Z,args))}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render: args => <div className="max-w-[40rem]">\n      <ClassPreview {...args} />\n    </div>\n}',...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./src/components/ClassPreview/ClassPreview.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ClassPreview_ClassPreview});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),navigation=__webpack_require__("./node_modules/next/navigation.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),useQuery=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/useQuery.js"),dynamic=__webpack_require__("./node_modules/next/dynamic.js"),dynamic_default=__webpack_require__.n(dynamic),useClickAway=__webpack_require__("./node_modules/react-use/esm/useClickAway.js"),svg=__webpack_require__("./public/icons/svg.ts"),classApis=__webpack_require__("./src/lib/apis/classApis.ts"),scheduleDateUtils=__webpack_require__("./src/utils/scheduleDateUtils.ts"),Spinner=__webpack_require__("./src/components/Spinner/Spinner.tsx"),__jsx=react.createElement,BasicCalendar=dynamic_default()((function(){return Promise.all([__webpack_require__.e(8065),__webpack_require__.e(1565)]).then(__webpack_require__.bind(__webpack_require__,"./src/components/Calendar/BasicCalendar.tsx"))}),{loading:function loading(){return __jsx("div",{className:"flex h-56 w-56 items-center justify-center"},__jsx(Spinner.Z,null))},loadableGenerated:{webpack:function webpack(){return["./src/components/Calendar/BasicCalendar.tsx"]}}}),ClassDates=function ClassDates(_ref){var _queryFn,id=_ref.id,_useState=(0,react.useState)(!1),showCalendar=_useState[0],setShowCalendar=_useState[1],_useState2=(0,react.useState)([]),selectedDates=_useState2[0],setSelectedDates=_useState2[1],calendarRef=(0,react.useRef)(null),_useQuery=(0,useQuery.a)({queryKey:["class",id,showCalendar],queryFn:(_queryFn=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){var data,schedules,regularLectureStatus,selectedDatesFromSchedule;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!showCalendar){_context.next=9;break}return _context.next=3,(0,classApis.XQ)(id);case 3:if(data=_context.sent,schedules=data.schedules,regularLectureStatus=data.regularLectureStatus,schedules&&regularLectureStatus){_context.next=7;break}return _context.abrupt("return");case 7:selectedDatesFromSchedule=(0,scheduleDateUtils.yf)(schedules||regularLectureStatus),setSelectedDates(selectedDatesFromSchedule);case 9:return _context.abrupt("return",Promise.resolve([]));case 10:case"end":return _context.stop()}}),_callee)}))),function queryFn(){return _queryFn.apply(this,arguments)})}),isLoading=_useQuery.isLoading;(0,useClickAway.Z)(calendarRef,(function(){setShowCalendar(!1)}));return __jsx("div",{ref:calendarRef},__jsx(svg.Ly,{onClick:function handleCalendarView(event){event.stopPropagation(),setShowCalendar((function(prev){return!prev}))},width:"1.875rem",className:"ml-2 mr-1.5 cursor-pointer ".concat(showCalendar?"fill-main-color":"fill-gray-500"," hover:fill-main-color")}),showCalendar&&__jsx("div",{className:"absolute z-10 overflow-hidden rounded-lg bg-white p-3.5 shadow-horizontal"},isLoading?__jsx("div",{className:"flex h-56 w-56 items-center justify-center"},__jsx(Spinner.Z,null)):__jsx(BasicCalendar,{mode:"preview",selectableDates:selectedDates})))};ClassDates.displayName="ClassDates";const ClassPreview_ClassDates=ClassDates;var Carousel=__webpack_require__("./src/components/Carousel/Carousel.tsx"),ProfileImage=__webpack_require__("./src/components/Profile/ProfileImage.tsx"),ResponsiveClassPreview_jsx=react.createElement,ResponsiveClassPreview=function ResponsiveClassPreview(props){var id=props.id,status=props.status,date=props.date,title=props.title,genre=props.genre,review=props.review,price=props.price,profile=props.profile,imgURL=props.imgURL,_props$darkMode=props.darkMode,darkMode=void 0!==_props$darkMode&&_props$darkMode,_useState=(0,react.useState)(!1),focus=_useState[0],setFocus=_useState[1],router=(0,navigation.useRouter)();return ResponsiveClassPreview_jsx("div",{onMouseLeave:function onMouseLeave(){return setFocus(!1)},onMouseOver:function onMouseOver(){return setFocus(!0)},onClick:function onClick(){return router.push("/class/".concat(id))},className:"flex h-full w-full cursor-pointer flex-col font-medium ".concat(darkMode&&"text-white")},ResponsiveClassPreview_jsx("div",{className:"relative aspect-[328/212] w-full overflow-hidden rounded-lg ".concat(darkMode&&"border border-solid border-white")},ResponsiveClassPreview_jsx(Carousel.Z,{imgURL,move:focus,arrow:imgURL.length>1&&focus,showCurrentElement:focus}),ResponsiveClassPreview_jsx("div",{className:"z-5 absolute top-0 flex h-[3.5rem] w-full items-baseline gap-2 whitespace-nowrap rounded-lg bg-gradient-to-b from-[rgba(32,32,35,0.5)] to-[rgba(32,32,35,0)] pl-2.5 pt-2.5 text-sm font-semibold text-white"},ResponsiveClassPreview_jsx("span",{className:"rounded-md border border-solid bg-black/[.7] px-[0.33rem] py-[0.18rem]"},status),ResponsiveClassPreview_jsx("span",{className:"drop-shadow-[0_1px_4px_rgba(0,0,0,0.8)]"},date))),ResponsiveClassPreview_jsx("div",{className:"mt-3 flex items-start justify-between"},ResponsiveClassPreview_jsx("h1",{className:"w-5/6 truncate text-base font-semibold leading-5"},title),review.count>0&&ResponsiveClassPreview_jsx("div",{className:"flex items-center gap-1 text-gray-100 ".concat(darkMode?"text-white":"")},ResponsiveClassPreview_jsx(svg.dW,{width:13,height:12,className:"fill-sub-color1"}),null==review?void 0:review.average)),ResponsiveClassPreview_jsx("span",{className:"mt-1 text-xs text-gray-500"},genre.length>1?genre[0]+" 외 "+(genre.length-1):genre[0]),ResponsiveClassPreview_jsx("div",{className:"mt-0.5 flex items-center justify-between text-base  ".concat(darkMode?"text-white":"text-gray-100")},ResponsiveClassPreview_jsx("p",{className:"text-lg font-bold"},price.toLocaleString(),"원"),ResponsiveClassPreview_jsx("div",{onClick:function onClick(event){event.stopPropagation(),router.push("/instructor/".concat(profile.id))},className:"cursor-pointer"},ResponsiveClassPreview_jsx(ProfileImage.Z,{size:"xsmall",src:(null==profile?void 0:profile.src)||null,nickname:profile.nickname}))))};ResponsiveClassPreview.displayName="ResponsiveClassPreview";const ClassPreview_ResponsiveClassPreview=ResponsiveClassPreview;var Like=__webpack_require__("./src/components/Like/Like.tsx"),Review=__webpack_require__("./src/components/Review/index.ts"),ClassPreview_jsx=react.createElement;const ClassPreview_ClassPreview=function ClassPreview(props){var id=props.id,status=props.status,date=props.date,title=props.title,imgURL=props.imgURL,location=props.location,genre=props.genre,type=props.type,review=props.review,price=props.price,profile=props.profile,isLiked=props.isLiked,_props$smallView=(props.darkMode,props.smallView),smallView=void 0!==_props$smallView&&_props$smallView,_useState=(0,react.useState)(!1),focus=_useState[0],setFocus=_useState[1],router=(0,navigation.useRouter)(),getStatusStyles="모집중"===status?"border-gray-500 text-inherit":"border-gray-500 text-gray-500";return ClassPreview_jsx(react.Fragment,null,ClassPreview_jsx("div",{onMouseLeave:function onMouseLeave(){return setFocus(!1)},onMouseOver:function onMouseOver(){return setFocus(!0)},onClick:function onClick(){return router.push("/class/".concat(id))},className:"hidden h-[13.5rem] w-full min-w-[20.5rem] cursor-pointer whitespace-nowrap rounded-lg bg-white p-3.5 shadow-horizontal hover:z-10 hover:scale-[1.02] ".concat(smallView?"":"xl:flex")},ClassPreview_jsx("div",{className:"relative mr-4 h-full w-[18.6rem] overflow-hidden lg:w-full"},ClassPreview_jsx(Carousel.Z,{imgURL,move:focus,arrow:imgURL.length>1&&focus,showCurrentElement:focus})),ClassPreview_jsx("div",{className:"flex w-full flex-col text-gray-100"},ClassPreview_jsx("div",{className:"mb-1 flex w-full items-center"},ClassPreview_jsx("div",{className:"flex h-6 w-14 items-center justify-center border-2 border-solid text-sm font-bold ".concat(getStatusStyles)},status),ClassPreview_jsx(ClassPreview_ClassDates,{id}),ClassPreview_jsx("span",{className:"text-sm"},date),ClassPreview_jsx("div",{className:"ml-auto"},ClassPreview_jsx(Like.Z,{type:"class",id,isLiked}))),ClassPreview_jsx(link_default(),{href:"/class/".concat(id),className:"mb-1 line-clamp-1 w-full text-lg font-bold leading-normal text-black hover:underline"},title),ClassPreview_jsx("div",{className:"mb-2 flex w-full flex-wrap gap-x-3 text-sm"},ClassPreview_jsx("span",null,displayFirstElement(location)),ClassPreview_jsx("span",null,displayFirstElement(genre)),ClassPreview_jsx("span",null,type)),review.count>0&&ClassPreview_jsx(Review.Cq,{average:review.average,count:review.count}),ClassPreview_jsx("div",{className:"mt-auto flex w-full items-center justify-between text-sm"},ClassPreview_jsx("p",{className:"text-lg font-bold text-black text-gray-100"},price.toLocaleString(),"원"),ClassPreview_jsx("div",{onClick:function onClick(event){event.stopPropagation(),router.push("/instructor/".concat(profile.id))},className:"cursor-pointer"},ClassPreview_jsx(ProfileImage.Z,{src:(null==profile?void 0:profile.src)||null,nickname:profile.nickname,size:"xsmall"}))))),ClassPreview_jsx("div",{className:"h-full w-full ".concat(smallView?"":"xl:hidden"," ")},ClassPreview_jsx(ClassPreview_ResponsiveClassPreview,props)))};var displayFirstElement=function displayFirstElement(arr){return arr.length>1?"".concat(arr[0].toString()," 외 ").concat(arr.length-1):arr[0].toString()}},"./src/components/Spinner/Spinner.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var __jsx=__webpack_require__("./node_modules/next/dist/compiled/react/index.js").createElement,Spinner=function Spinner(_ref){var _ref$color=_ref.color,spinnerColor="border-".concat(void 0===_ref$color?"sub-color1":_ref$color);return __jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid ".concat(spinnerColor," border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"),role:"status"},__jsx("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]"},"Loading..."))};Spinner.displayName="Spinner";const __WEBPACK_DEFAULT_EXPORT__=Spinner}}]);