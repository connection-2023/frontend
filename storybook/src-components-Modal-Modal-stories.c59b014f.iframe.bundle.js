"use strict";(self.webpackChunkproject_connection=self.webpackChunkproject_connection||[]).push([[3727],{"./src/components/Modal/Modal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_Modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Modal/Modal.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Modal/BasicModal",component:_Modal__WEBPACK_IMPORTED_MODULE_1__.Z,tags:["autodocs"],parameters:{docs:{description:{component:"기본 모달 컴포넌트"}}},argTypes:{isOpened:{description:"모달 창의 열림 상태",control:{type:"boolean"},table:{type:{summary:"boolean"}}},children:{description:"모달 내부 내용",table:{type:{summary:"React.ReactNode"}}},handleClosed:{description:"모달 창이 닫힐 때 호출되는 함수",action:"모달 닫기",table:{type:{summary:"() => void"}}}},args:{isOpened:!0,handleClosed:function handleClosed(){}}};var Default={render:function render(args){return __jsx("div",{className:"h-96"},__jsx(_Modal__WEBPACK_IMPORTED_MODULE_1__.Z,args,__jsx("div",{className:"flex h-80 w-80 items-center justify-center"},"모달 내용")))}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render: args => <div className="h-96">\n      <Modal {...args}>\n        <div className="flex h-80 w-80 items-center justify-center">\n          모달 내용\n        </div>\n      </Modal>\n    </div>\n}',...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./src/components/Modal/Modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Modal_Modal});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),use_animation=__webpack_require__("./node_modules/framer-motion/dist/es/animation/hooks/use-animation.mjs");const hooks_usePreviousValue=function usePreviousValue(value){var previousValueRef=(0,react.useRef)();return(0,react.useEffect)((function(){previousValueRef.current=value}),[value]),previousValueRef.current};const hooks_useBottomSheet=function useBottomSheet(handleClosed,isOpened){var controls=(0,use_animation._)(),prevIsOpen=hooks_usePreviousValue(isOpened);return(0,react.useEffect)((function(){prevIsOpen&&!isOpened?controls.start("hidden"):!prevIsOpen&&isOpened&&controls.start("visible")}),[controls,isOpened,prevIsOpen]),{onDragEnd:function onDragEnd(event,info){info.point.y>20||info.point.y>=0&&info.point.y>45?controls.start("hidden").then(handleClosed):controls.start("visible")},controls,isOpened}};var motion=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion.mjs"),navigation=__webpack_require__("./node_modules/next/navigation.js");const hooks_useMediaQuery=function useMediaQuery(query){var isClient="object"==typeof window,_useState=(0,react.useState)(!!isClient&&window.matchMedia(query).matches),matches=_useState[0],setMatches=_useState[1];return(0,react.useEffect)((function(){if(isClient){var media=window.matchMedia(query),listener=function listener(event){return setMatches(event.matches)};return media.addEventListener("change",listener),function(){return media.removeEventListener("change",listener)}}}),[isClient,matches,query]),matches};var svg=__webpack_require__("./public/icons/svg.ts"),__jsx=react.createElement;const Modal_ModalContent=function ModalContent(_ref){var children=_ref.children,handleClosed=_ref.handleClosed,disableModalSwipe=_ref.disableModalSwipe,onDragEnd=_ref.onDragEnd,controls=_ref.controls,skipBackOnUnmount=_ref.skipBackOnUnmount,modalHistroryControl=_ref.modalHistroryControl,initialized=(0,react.useRef)(!1),isSm=disableModalSwipe?void 0:hooks_useMediaQuery("(min-width: 640px)"),pathname=(0,navigation.usePathname)(),closeModalHandler=function closeModalHandler(){handleClosed(),modalHistroryControl&&(window.onpopstate=null,window.history.back(),skipBackOnUnmount.current=!0)},handleKeyUp=function handleKeyUp(e){"Escape"===e.key&&closeModalHandler()};return(0,react.useEffect)((function(){if(modalHistroryControl)return initialized.current?function(){window.removeEventListener("keyup",handleKeyUp),window.onpopstate=null,skipBackOnUnmount.current||window.history.back()}:(window.addEventListener("keyup",handleKeyUp),window.history.pushState(null,"",pathname),window.onpopstate=function(){handleClosed(),window.onpopstate=null,skipBackOnUnmount.current=!0},initialized.current=!0,void(skipBackOnUnmount.current=!1))}),[]),disableModalSwipe?__jsx("div",{className:"absolute bottom-0 z-modal h-screen w-screen bg-white sm:bottom-auto sm:left-1/2 sm:top-1/2 sm:h-auto sm:w-auto sm:-translate-x-1/2 sm:-translate-y-1/2 sm:rounded-md sm:pt-0 sm:shadow-float"},__jsx("button",{onClick:closeModalHandler,className:"absolute right-6 top-5"},__jsx(svg.b2,{width:"24",height:"24",className:"stroke-gray-500 stroke-2"})),children):__jsx(motion.E.div,{drag:!isSm&&"y",onDragEnd:isSm?void 0:onDragEnd,initial:!isSm&&"hidden",animate:!isSm&&controls,transition:{type:"spring",damping:40,stiffness:400},variants:{visible:{y:0},hidden:{y:"100%"}},dragConstraints:{top:0},dragElastic:.2,style:isSm?{y:"-50%",x:"-50%"}:void 0,className:"absolute bottom-0 z-modal h-[90%] w-screen rounded-t-lg bg-white pt-2.5 sm:bottom-auto sm:left-1/2 sm:top-1/2 sm:h-auto sm:w-auto sm:rounded-md sm:pt-0 sm:shadow-float"},__jsx("button",{onClick:closeModalHandler,className:"absolute right-2 top-2 hidden sm:block"},__jsx(svg.b2,{width:"24",height:"24",className:"stroke-gray-500 stroke-2"})),__jsx("div",{className:"mb-8 flex w-full justify-center sm:hidden"},__jsx("button",{className:"h-1.5 w-16 rounded-lg bg-gray-700"})),children)};var Modal_jsx=react.createElement;const Modal_Modal=function Modal(_ref){var children=_ref.children,isOpened=_ref.isOpened,handleClosed=_ref.handleClosed,_ref$disableModalSwip=_ref.disableModalSwipe,disableModalSwipe=void 0!==_ref$disableModalSwip&&_ref$disableModalSwip,_ref$modalHistroryCon=_ref.modalHistroryControl,modalHistroryControl=void 0===_ref$modalHistroryCon||_ref$modalHistroryCon,skipBackOnUnmount=(0,react.useRef)(!1),closeModalHandler=function closeModalHandler(){handleClosed(),modalHistroryControl&&(window.onpopstate=null,window.history.back(),skipBackOnUnmount.current=!0)},_useBottomSheet=hooks_useBottomSheet(closeModalHandler,isOpened),onDragEnd=_useBottomSheet.onDragEnd,controls=_useBottomSheet.controls,overlayRef=(0,react.useRef)(null);return isOpened?Modal_jsx("div",{ref:overlayRef,className:"fixed bottom-0 left-0 right-0 top-0 z-modal mx-auto bg-black/60 backdrop-blur-sm",onClick:function onClick(e){overlayRef.current===e.target&&closeModalHandler()}},Modal_jsx(Modal_ModalContent,{children,handleClosed,disableModalSwipe,onDragEnd,controls,skipBackOnUnmount,modalHistroryControl})):null}},"./node_modules/next/dist/shared/lib/segment.js":(__unused_webpack_module,exports)=>{function isGroupSegment(segment){return"("===segment[0]&&segment.endsWith(")")}Object.defineProperty(exports,"__esModule",{value:!0}),function _export(target,all){for(var name in all)Object.defineProperty(target,name,{enumerable:!0,get:all[name]})}(exports,{isGroupSegment:function(){return isGroupSegment},PAGE_SEGMENT_KEY:function(){return PAGE_SEGMENT_KEY},DEFAULT_SEGMENT_KEY:function(){return DEFAULT_SEGMENT_KEY}});const PAGE_SEGMENT_KEY="__PAGE__",DEFAULT_SEGMENT_KEY="__DEFAULT__"},"./node_modules/@swc/helpers/cjs/_interop_require_wildcard.cjs":(__unused_webpack_module,exports)=>{function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}exports._=exports._interop_require_wildcard=function _interop_require_wildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}}}]);